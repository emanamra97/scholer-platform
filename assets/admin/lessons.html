<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>لوحة التحكم - إدارة الدروس</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
  <style>
    body {
      font-family: "Cairo", sans-serif;
      background-color: #f8f9fa;
    }
    header {
      background: #7b2cbf;
      color: white;
      padding: 20px;
      text-align: center;
      font-size: 22px;
      font-weight: bold;
    }
    .container {
      margin-top: 30px;
    }
    .form-container {
      background: #fff;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      margin-bottom: 30px;
    }
    .lesson-card {
      background-color: #ffffff;
      border: 1px solid #dee2e6;
      border-radius: 12px;
      padding: 15px;
      margin-bottom: 20px;
      transition: transform 0.2s;
    }
    .lesson-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    .lesson-title {
      font-weight: bold;
      font-size: 18px;
      margin-bottom: 10px;
    }
    .lesson-buttons a, .lesson-buttons button {
      margin: 5px 5px 0 0;
    }
    .video-btn { background-color: #d733dd; color: white; }
    .pdf-btn { background-color: #4c5672; color: white; }
    .edit-btn { background-color: #f4a261; color: white; }
    .delete-btn { background-color: #e76f51; color: white; }
  </style>
</head>
<body>
  <header>⚙️ لوحة التحكم - إدارة الدروس</header>
  <div class="container">

    <div class="form-container">
      <h4>إضافة درس جديد</h4>
      <div class="row g-3">
        <div class="col-md-3">
          <label>الصف:</label>
          <select id="classSelect" class="form-select">
            <option value="العاشر">العاشر</option>
            <option value="الحادي عشر">الحادي عشر</option>
            <option value="الثاني عشر">الثاني عشر</option>
          </select>
        </div>
        <div class="col-md-3">
          <label>الفرع:</label>
          <select id="branchSelect" class="form-select">
            <option value="">-- لا يوجد --</option>
            <option value="علمي">علمي</option>
            <option value="أدبي">أدبي</option>
            <option value="شرعي">شرعي</option>
          </select>
        </div>
        <div class="col-md-3">
          <label>اسم الدرس:</label>
          <input type="text" id="lessonInput" class="form-control" placeholder="مثال: المجاهر وأنواعها">
        </div>
        <div class="col-md-3">
          <label>رابط الفيديو:</label>
          <input type="text" id="videoInput" class="form-control" placeholder="مثال: videos/biology1.mp4">
        </div>
        <div class="col-md-3">
          <label>رابط PDF:</label>
          <input type="text" id="pdfInput" class="form-control" placeholder="مثال: pdfs/biology1.pdf">
        </div>
        <div class="col-md-3 align-self-end">
          <button class="btn add-btn w-100" onclick="addLesson()">إضافة الدرس</button>
        </div>
      </div>
    </div>

    <div id="lessonContainer" class="row"></div>

  </div>

  <script>
    let lessons = [
      { cls: "العاشر", branch: "", lesson: "المجاهر وأنواعها", video: "videos/biology1.mp4", pdf: "pdfs/biology1.pdf" },
      { cls: "الحادي عشر", branch: "علمي", lesson: "الفيزياء الحديثة", video: "videos/physics1.mp4", pdf: "pdfs/physics1.pdf" }
    ];

    const container = document.getElementById("lessonContainer");

    function renderLessons() {
      container.innerHTML = "";
      lessons.forEach((lesson, index) => {
        const card = document.createElement("div");
        card.className = "col-md-4";
        card.innerHTML = `
          <div class="lesson-card">
            <div class="lesson-title">${lesson.lesson} (${lesson.cls} ${lesson.branch})</div>
            <div class="lesson-buttons">
              <a href="${lesson.video}" target="_blank" class="btn video-btn">🎥 مشاهدة الفيديو</a>
              <a href="${lesson.pdf}" target="_blank" class="btn pdf-btn">📥 تحميل PDF</a>
              <button class="btn edit-btn" onclick="editLesson(${index})">✏️ تعديل</button>
              <button class="btn delete-btn" onclick="deleteLesson(${index})">🗑️ حذف</button>
            </div>
          </div>
        `;
        container.appendChild(card);
      });
    }

    function addLesson() {
      const cls = document.getElementById("classSelect").value;
      const branch = document.getElementById("branchSelect").value;
      const lessonName = document.getElementById("lessonInput").value.trim();
      const video = document.getElementById("videoInput").value.trim();
      const pdf = document.getElementById("pdfInput").value.trim();

      if (!lessonName || !video || !pdf) {
        alert("يرجى تعبئة جميع الحقول!");
        return;
      }

      lessons.push({ cls, branch, lesson: lessonName, video, pdf });
      renderLessons();

      document.getElementById("lessonInput").value = "";
      document.getElementById("videoInput").value = "";
      document.getElementById("pdfInput").value = "";
    }

    function deleteLesson(index) {
      if (confirm("هل أنت متأكد من حذف هذا الدرس؟")) {
        lessons.splice(index, 1);
        renderLessons();
      }
    }

    function editLesson(index) {
      const lesson = lessons[index];
      const newLesson = prompt("تعديل اسم الدرس:", lesson.lesson);
      const newVideo = prompt("تعديل رابط الفيديو:", lesson.video);
      const newPdf = prompt("تعديل رابط PDF:", lesson.pdf);

      if (newLesson) lesson.lesson = newLesson;
      if (newVideo) lesson.video = newVideo;
      if (newPdf) lesson.pdf = newPdf;

      renderLessons();
    }

    renderLessons();
  </script>
</body>
</html>

